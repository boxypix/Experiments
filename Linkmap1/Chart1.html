<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>График ветра</title>
    <script src="https://code.highcharts.com/stock/highstock.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/accessibility.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #1A3748;
            color: #FFFFFF;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        #container {
            width: 90%;
            height: 500px;
        }
    </style>
</head>
<body>
    <div id="container"></div>
    <script>
        // Генерация данных за последние 12 часов
        const timeLabels = [];
        const windSpeedData = [];
        const windGustData = [];
        const now = new Date().getTime();
        const totalIntervals = 48; // 12 часов * 4 (каждые 15 минут)

        for (let i = 0; i < totalIntervals; i++) {
            const time = now - (totalIntervals - i) * 15 * 60 * 1000;
            timeLabels.push(time);

            // Добавляем данные только для первых 11 часов
            if (i < totalIntervals - 4) {
                windSpeedData.push([time, Math.random() * 25]); // Скорость от 0 до 25 узлов
                windGustData.push([time, Math.random() * 35]); // Порывы от 0 до 35 узлов
            } else {
                windSpeedData.push([time, null]); // Последний час - пустые данные
                windGustData.push([time, null]); // Последний час - пустые данные
            }
        }

        // Инициализация графика
        Highcharts.stockChart('container', {
            chart: {
                backgroundColor: '#1A3748',
            },
            rangeSelector: {
                enabled: false,
            },
            scrollbar: {
                enabled: true,
            },
            navigator: {
                enabled: true,
            },
            title: {
                text: 'График ветра',
                style: {
                    color: '#FFFFFF',
                },
            },
            xAxis: {
                type: 'datetime',
                labels: {
                    style: {
                        color: '#FFFFFF',
                    },
                },
                crosshair: true,
            },
            yAxis: [{
                title: {
                    text: 'Скорость ветра (узлы)',
                    style: {
                        color: '#FFFFFF',
                    },
                },
                labels: {
                    style: {
                        color: '#FFFFFF',
                    },
                },
                gridLineColor: '#444',
                opposite: false,
            }, {
                title: {
                    text: 'Порывы ветра (узлы)',
                    style: {
                        color: '#FFFFFF',
                    },
                },
                labels: {
                    style: {
                        color: '#FFFFFF',
                    },
                },
                gridLineColor: '#444',
                opposite: true,
            }],
            tooltip: {
                shared: true,
                backgroundColor: '#1A3748',
                style: {
                    color: '#FFFFFF',
                },
            },
            legend: {
                itemStyle: {
                    color: '#FFFFFF',
                },
            },
            series: [{
                name: 'Скорость ветра',
                type: 'area',
                data: windSpeedData,
                color: {
                    linearGradient: { x1: 0, x2: 0, y1: 0, y2: 1 },
                    stops: [
                        [0, '#B20A05'], // 25 kts
                        [0.2, '#FE5501'], // 20 kts
                        [0.4, '#FEA901'], // 15 kts
                        [0.6, '#60DC25'], // 10 kts
                        [0.8, '#0092EA'], // 5 kts
                        [1, '#1A3748'], // 0 kts
                    ],
                },
                fillOpacity: 0.5,
                tooltip: {
                    valueSuffix: ' узлы',
                },
            }, {
                name: 'Порывы ветра',
                type: 'line',
                data: windGustData,
                color: '#FFFFFF',
                tooltip: {
                    valueSuffix: ' узлы',
                },
            }],
        });
    </script>
</body>
</html>